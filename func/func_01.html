<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div class="gugudan"></div>
    <script>
        /*
         *구구단 계산 결과를 배열에 담는 로직을 새로운 함수로 분리한다.
         *배열에 담은 데이터를 화면에 출력하는 로직을 새로운 함수로 분리한다.
         */

        function calculrate(num) {
            var results = [];
            for (var i = 1; i <= 9; i++) {
                results.push(num + "x" + i + "=" + (num * i));
            }
            return results

        }

        function print(dan, results) {
            // 계산 결과를 화면에 출력
            var gugudans = document.getElementsByClassName("gugudan")[0];
            var h2 = document.createElement("h2");

            h2.innerText = dan + '단'
            gugudans.appendChild(h2);

            for (var j = 1; j < results.length; j++) {
                gugudans.innerHTML += '<p>' + results[j] + '</p>';
            }
        }

        function main() {
            // 나머지 코드들은 여기에
            for (var n = 2; n <= 9; n++) {
                result = calculrate(n);
                print(n, result);
            }
        }
        main();
    </script>
</body>

</html>